<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="output.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap"
      rel="stylesheet"
    />
    <title>Create Event</title>
    <script src="scripts.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <!-- Include a WYSIWYG editor (e.g., TinyMCE or CKEditor) -->
    <script src="https://cdn.tiny.cloud/1/2bppe7lzl3ejbr8norc2ib5v8xllmenbc55pq94sfte8f7ny/tinymce/6/tinymce.min.js"></script>
  </head>
  <body class="font-sans bg-white min-h-screen flex">
    <!-- Sidebar -->
    <aside class="sidebar flex flex-col p-4">
      <!-- Logo -->
      <div class="sidebar-logo">
        <img src="logo-red.png" alt="Logo" />
      </div>
      <!-- Menu -->
      <div class="sidebar-menu">
        <h2 class="text-neutral-500 uppercase font-bold text-sm mb-2">Menu</h2>
        <a href="dashboard.html" class="active flex items-center">
          <i data-feather="home" class="mr-2"></i>
          Dashboard
        </a>
      </div>

      <div class="sidebar-menu mt-6">
        <h2 class="text-neutral-500 uppercase font-bold text-sm mb-2">
          Management
        </h2>
        <a href="#" class="flex items-center">
          <i data-feather="calendar" class="mr-2"></i>
          Event
        </a>
        <!-- Collapsible Menu -->
        <div class="collapsible-menu">
          <a
            href="#"
            onclick="toggleSubmenu(event, 'transaksiSubmenu')"
            class="flex items-center"
          >
            <i data-feather="clipboard" class="mr-2"></i>
            Transaksi
            <i data-feather="chevron-down" class="ml-auto"></i>
          </a>
          <div id="transaksiSubmenu" class="submenu">
            <a href="#" class="block">Laporan Penjualan</a>
            <a href="#" class="block">Penarikan Dana</a>
            <a href="#" class="block">Data Pemesan</a>
            <a href="#" class="block">Check-In</a>
          </div>
        </div>
      </div>

      <!-- Logout -->
      <div class="mt-auto">
        <a href="#" class="flex items-center">
          <i data-feather="log-out" class="mr-2"></i>
          Logout
        </a>
      </div>
    </aside>

    <!-- Main Content -->
    <div class="flex-1 p-6 main-content">
      <!-- Sidebar Toggle Button for Mobile -->
      <button id="sidebarToggle" class="lg:hidden p-4 text-red-800">
        <i data-feather="menu"></i>
      </button>

      <!-- Topbar -->
      <div class="topbar flex justify-between items-center mb-6">
        <h1 class="text-2xl font-bold">Create Event</h1>
        <div class="dropdown relative">
          <button class="flex items-center">
            <i data-feather="user" class="mr-2"></i>
            Account
          </button>
          <div class="dropdown-menu">
            <a href="#" class="block px-4 py-2">Profile</a>
            <a href="#" class="block px-4 py-2">Settings</a>
            <a href="#" class="block px-4 py-2">Logout</a>
          </div>
        </div>
      </div>

      <!-- Breadcrumbs -->
      <nav class="flex items-center text-neutral-600 text-sm mb-6">
        <a href="#" class="text-red hover:underline">Dashboard</a>
        <span class="mx-2">/</span>
        <a href="#" class="text-red hover:underline">Event</a>
        <span class="mx-2">/</span>
        <span>Create Event</span>
      </nav>

      <!-- Stepper -->
      <div class="stepper">
        <div class="step active" data-step="1">
          <div class="circle" onclick="goToStep(1)">1</div>
          <div class="label">Detail Event</div>
        </div>
        <div class="step" data-step="2">
          <div class="circle" onclick="goToStep(2)">2</div>
          <div class="label">Talent & Fasilitas</div>
        </div>
        <div class="step" data-step="3">
          <div class="circle" onclick="goToStep(3)">3</div>
          <div class="label">Informasi Tambahan</div>
        </div>
      </div>

      <!-- Forms -->
      <!-- Forms -->
      <form id="form1" class="form-step active" onsubmit="handleSubmit(event)">
        <h2 class="text-xl font-semibold mb-4">Detail Event</h2>

        <div class="form-grid">
          <!-- Kolom 1 -->
          <div>
            <!-- Kategori -->
            <label for="category" class="block mb-2">Kategori Event:</label>
            <select
              id="category"
              class="border p-2 rounded w-full mb-4"
              required
            >
              <option value="">Pilih Kategori</option>
              <option value="musik">Musik</option>
              <option value="olahraga">Olahraga</option>
              <option value="seni">Seni</option>
            </select>

            <!-- Nama Event -->
            <label for="eventName" class="block mb-2">Nama Event:</label>
            <input
              type="text"
              id="eventName"
              class="border p-2 rounded w-full mb-4"
              required
            />

            <!-- Tanggal, Waktu dan Lokasi -->
            <div id="scheduleContainer" class="mb-4">
              <label class="block mb-2">Tanggal, Waktu dan Lokasi:</label>
              <div class="schedule-item grid grid-cols-2 gap-4 mb-4">
                <input
                  type="datetime-local"
                  class="border p-2 rounded w-full"
                  required
                />
                <input
                  type="text"
                  class="border p-2 rounded w-full"
                  placeholder="Lokasi"
                  required
                />
                <!-- Tombol Hapus hanya akan ditampilkan jika lebih dari satu baris jadwal -->
                <button type="button" class="remove-schedule hidden">
                  Hapus
                </button>
              </div>
            </div>
            <button type="button" class="btn mb-4" onclick="addScheduleField()">
              + Tambah Tanggal & Waktu Lainnya
            </button>

            <!-- Sampul Event -->
            <label for="coverImage" class="block mb-2">Sampul Event:</label>
            <input
              type="file"
              id="coverImage"
              accept="image/*"
              class="border p-2 rounded w-full mb-4"
              required
            />
            <small class="block text-gray-600 mb-4">Ukuran 384x154px</small>
          </div>

          <!-- Kolom 2 -->
          <div>
            <!-- Deskripsi Event -->
            <label for="eventDescription" class="block mb-2"
              >Deskripsi Event:</label
            >
            <textarea
              id="eventDescription"
              class="wysiwyg border p-2 rounded w-full mb-4"
              required
            ></textarea>

            <!-- Syarat dan Ketentuan -->
            <label for="terms" class="block mb-2">Syarat dan Ketentuan:</label>
            <textarea
              id="terms"
              class="wysiwyg border p-2 rounded w-full mb-4"
              required
            ></textarea>
          </div>
        </div>

        <!-- Tombol Simpan -->
        <div class="flex justify-end mt-6">
          <button type="submit" class="btn">Simpan</button>
        </div>
      </form>

      <form id="form2" class="form-step">
        <h2 class="text-xl font-semibold mb-4">Talent & Fasilitas</h2>

        <div class="form-grid mb-4">
          <!-- Kolom 1: Talent -->
          <div>
            <h3 class="text-lg font-semibold mb-4">Talent</h3>

            <!-- Talent Input -->
            <div id="talentContainer">
              <div class="talent-item mb-4">
                <label for="talentName" class="block mb-2">Nama Talent:</label>
                <input
                  type="text"
                  id="talentName"
                  class="border p-2 rounded w-full mb-2"
                  placeholder="Nama Talent"
                  required
                />

                <label for="talentImage" class="block mb-2"
                  >Gambar/Foto Talent:</label
                >
                <input
                  type="file"
                  id="talentImage"
                  accept="image/*"
                  class="border p-2 rounded w-full mb-2"
                  required
                />

                <label for="instagramTalent" class="block mb-2"
                  >Instagram Talent:</label
                >
                <input
                  type="url"
                  id="instagramTalent"
                  class="border p-2 rounded w-full mb-4"
                  placeholder="Link Instagram Talent"
                />
              </div>
            </div>

            <!-- Add Talent Button -->
            <button
              type="button"
              class="btn text-red hover:bg-red-950"
              onclick="addTalentField()"
            >
              + Tambah Talent Lainnya
            </button>
          </div>

          <!-- Kolom 2: Fasilitas -->
          <div>
            <h3 class="text-lg font-semibold mb-4">Fasilitas</h3>

            <label class="block mb-2">Pilih Fasilitas:</label>
            <div class="flex flex-wrap gap-4 mb-4">
              <label class="inline-flex items-center">
                <input type="checkbox" class="form-checkbox" />
                <span class="ml-2">Toilet</span>
              </label>
              <label class="inline-flex items-center">
                <input type="checkbox" class="form-checkbox" />
                <span class="ml-2">Food Court</span>
              </label>
              <label class="inline-flex items-center">
                <input type="checkbox" class="form-checkbox" />
                <span class="ml-2">Medis</span>
              </label>
              <label class="inline-flex items-center">
                <input type="checkbox" class="form-checkbox" />
                <span class="ml-2">Parkir Area</span>
              </label>
              <label class="inline-flex items-center">
                <input type="checkbox" class="form-checkbox" />
                <span class="ml-2">Play Room</span>
              </label>
              <label class="inline-flex items-center">
                <input type="checkbox" class="form-checkbox" />
                <span class="ml-2">Pusat Informasi</span>
              </label>
              <label class="inline-flex items-center">
                <input type="checkbox" class="form-checkbox" />
                <span class="ml-2">Merchandise</span>
              </label>
              <label class="inline-flex items-center">
                <input type="checkbox" class="form-checkbox" />
                <span class="ml-2">Charging Station</span>
              </label>
              <label class="inline-flex items-center">
                <input type="checkbox" class="form-checkbox" />
                <span class="ml-2">Photobooth</span>
              </label>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex justify-between mt-6">
          <button type="button" class="btn btn-outline" onclick="prevStep()">
            Kembali
          </button>
          <button type="submit" class="btn">Simpan</button>
          <button type="button" class="btn" onclick="nextStep()">
            Selanjutnya
          </button>
        </div>
      </form>

      <form id="form3" class="form-step">
        <h2 class="text-xl font-semibold mb-4">Informasi Tambahan</h2>

        <div class="mb-4">
          <!-- Instagram Input -->
          <label for="instagram" class="block mb-2">Instagram:</label>
          <input
            type="text"
            id="instagram"
            class="border p-2 rounded w-full"
            placeholder="Link Instagram"
          />
        </div>

        <div class="mb-4">
          <!-- Legalitas File Upload -->
          <label for="legalitas" class="block mb-2">Legalitas:</label>
          <input
            type="file"
            id="legalitas"
            class="border p-2 rounded w-full"
            accept=".pdf,.doc,.docx"
          />
        </div>

        <!-- Action Buttons -->
        <div class="flex justify-between mt-6">
          <button type="button" class="btn btn-outline" onclick="prevStep()">
            Kembali
          </button>
          <button type="submit" class="btn">Simpan</button>
        </div>
      </form>

      <script>
        function prevStep() {
          // Logic to go to the previous step
          currentStep--;
          goToStep(currentStep);
        }
      </script>
    </div>

    <script>
      // Initialize Feather Icons
      feather.replace();

      // Toggle Submenu Function
      function toggleSubmenu(event, submenuId) {
        event.preventDefault();
        document.getElementById(submenuId).classList.toggle("hidden");
      }

      // Sidebar Toggle Function
      document
        .getElementById("sidebarToggle")
        .addEventListener("click", function () {
          document.querySelector(".sidebar").classList.toggle("open");
        });

      // Stepper Logic
      let currentStep = 1;
      function nextStep() {
        const currentForm = document.getElementById("form" + currentStep);
        currentForm.classList.remove("active");
        currentStep++;
        const nextForm = document.getElementById("form" + currentStep);
        if (nextForm) {
          nextForm.classList.add("active");
        }
        updateStepper();
      }

      function updateStepper() {
        const steps = document.querySelectorAll(".step");
        steps.forEach((step, index) => {
          if (index + 1 === currentStep) {
            step.classList.add("active");
          } else {
            step.classList.remove("active");
          }
        });
      }

      function goToStep(step) {
        currentStep = step;
        const allForms = document.querySelectorAll(".form-step");
        allForms.forEach((form) => {
          form.classList.remove("active");
        });
        document.getElementById("form" + currentStep).classList.add("active");
        updateStepper();
      }
      function addScheduleField() {
        const scheduleContainer = document.getElementById("scheduleContainer");
        const scheduleItems =
          scheduleContainer.querySelectorAll(".schedule-item");
        const newField = document.createElement("div");
        newField.classList.add(
          "schedule-item",
          "grid",
          "grid-cols-2",
          "gap-4",
          "mb-4"
        );
        newField.innerHTML = `
        <input type="datetime-local" class="border p-2 rounded w-full" required />
        <input type="text" class="border p-2 rounded w-full" placeholder="Lokasi" required />
        <button type="button" class="remove-schedule"> Hapus</button>
      `;
        scheduleContainer.appendChild(newField);

        // Update visibility of delete buttons
        updateRemoveButtonVisibility();
      }

      function removeScheduleField(event) {
        if (event.target.classList.contains("remove-schedule")) {
          event.target.closest(".schedule-item").remove();
          // Update visibility of delete buttons
          updateRemoveButtonVisibility();
        }
      }

      function updateRemoveButtonVisibility() {
        const scheduleItems = document.querySelectorAll(".schedule-item");
        scheduleItems.forEach((item, index) => {
          const removeButton = item.querySelector(".remove-schedule");
          if (scheduleItems.length > 1) {
            removeButton.classList.remove("hidden");
          } else {
            removeButton.classList.add("hidden");
          }
        });
      }
      document.addEventListener("DOMContentLoaded", function () {
        feather.replace(); // Initialize Feather Icons
      });

      document
        .getElementById("scheduleContainer")
        .addEventListener("click", removeScheduleField);

      // Handle form submission (replace with your own logic)
      function handleSubmit(event) {
        event.preventDefault();
        // Form submission logic here (e.g., send data to the server)
        alert("Form submitted successfully!");
      }

      let talentCount = 1;

      function addTalentField() {
        const container = document.getElementById("talentContainer");
        const newTalent = document.createElement("div");
        newTalent.className = "talent-item mb-4";
        newTalent.innerHTML = `
        <label for="talentName${talentCount}" class="block mb-2">Nama Talent:</label>
        <input
            type="text"
            id="talentName${talentCount}"
            class="border p-2 rounded w-full mb-2"
            placeholder="Nama Talent"
            required
        />
        
        <label for="talentImage${talentCount}" class="block mb-2">Gambar/Foto Talent:</label>
        <input
            type="file"
            id="talentImage${talentCount}"
            accept="image/*"
            class="border p-2 rounded w-full mb-2"
            required
        />

        <label for="instagramTalent${talentCount}" class="block mb-2">Instagram Talent:</label>
        <input
            type="url"
            id="instagramTalent${talentCount}"
            class="border p-2 rounded w-full mb-4"
            placeholder="Link Instagram Talent"
        />
        
        <button
            type="button"
            class="remove-talent text-red-600 hover:text-red-800"
            onclick="removeTalentField(this)"
        >
            <i data-feather="trash-2" class="mr-2"></i> Hapus
        </button>
        `;
        container.appendChild(newTalent);
        talentCount++;
      }

      function removeTalentField(button) {
        button.parentElement.remove();
      }

      function prevStep() {
        // Logic to go to the previous step
        currentStep--;
        goToStep(currentStep);
      }
    </script>
  </body>
</html>
